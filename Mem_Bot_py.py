
from typing import Text
import vk_api, random, json
from vk_api import longpoll
from vk_api import upload
from vk_api import keyboard
from vk_api.longpoll import VkLongPoll, VkEventType
from vk_api.keyboard import VkKeyboard, VkKeyboardColor
from vk_api.utils import get_random_id

# –∫—Ä–∏–ø—Ç–æ–±–æ—Ç —Ç–æ–∫–µ–Ω TOKEN = 'b67a3fc0f8b1967462ccb0286df9ffba68698cf3e9e6354d53ef2bef6ff1147e68bf067c1586083ca662a'
TOKEN = "28853c67a17b8fa800d88eec13666ee34392a3c66d220377b40a41f19540afe8673cd6fa3919864fdfd58"
# –í–∞–∫ –±–æ—Ç —Ç–æ–∫–µ–Ω TOKEN = '1e943b35a07460af3cfc0dfc2e64e3c4325b50af16bdd0c21975532a2bcd1e76c796168f2bd3b926ce7d4'

music = ['audio534311809_456240505']

video = ["video-527771830_456239259", "video-194273774_456239017", 
        "video-194273774_456239018", "video-533909106_456239947",
        "video534311809_456239058", "video-187227252_456249330",
        "video-207121328_456239017", "video-56263398_456287681",
        "video-174825465_456239602","video-162181333_456239860",
        "video-198797033_456240612", "video-190340814_456256486",
        "video-190340814_456256478", "video-99872432_456273153",
        "video-99872432_456273152", "video-99872432_456273149",
        "video-99872432_456256881", "video-99872432_456256080",
        "video-99872432_456260081", "video618650795_456239109",
        "video-124668503_456281547", "video-143968551_456240702",
        "video-12353330_456264660", "video-190340814_456256523"
        ]

joke = ["–®–ª–∏ –∫–∞–∫ —Ç–æ 100 –Ω–µ–≥—Ä–æ–≤ –ø–æ –ø—É—Å—ã–Ω–µ –∏ –Ω–∞—à–ª–∏ –¥–∂–∏–Ω–∞. –î–∂–∏–Ω —Å–∫–∞–∑–∞–ª —á—Ç–æ –∏—Å–ø–æ–ª–Ω–∏—Ç –ª–∏—à—å –ø–æ –æ–¥–Ω–æ–º—É –∂–µ–ª–∞–Ω–∏—é –Ω–∞ –∫–∞–∂–¥–æ–≥–æ. 99 –Ω–µ–≥—Ä–æ–≤ –∑–∞–≥–∞–¥–∞–ª–∏ —Å—Ç–∞—Ç—å –±–µ–ª—ã–º–∏, –∞ 100 —É–º–∏—Ä–∞—è –æ—Ç —Å–º–µ—Ö–∞ –∑–∞–≥–∞–¥–∞–ª —á—Ç–æ–±—ã –æ–Ω–∏ –æ–ø—è—Ç—å —Å—Ç–∞–ª–∏ —á–µ—Ä–Ω—ã–º–∏",
        "–ó–∞—Ö–æ–¥–∏—Ç –∑–Ω–∞—á–∏—Ç –ó–º–µ–π –ì–æ—Ä—ã–Ω—ã—á—å –≤ –±–∞—Ä. –û–¥–Ω–∞ –≥–æ–ª–æ–≤–∞\n - –ß—Ç–æ —Ç–æ –∑–¥–µ—Å—å –∂–∞—Ä–∫–æ\n - –ü–∞—Å—Ç—å –∑–∞–∫—Ä–æ–π...",
        "–ß—Ç–æ —Å–∫–∑–∞–ª –î–µ–¥ –ú–æ—Ä–æ–∑ –∫–æ–≥–¥–∞ —É–≤–∏–¥–µ–ª –º—É–∂–∏–∫–∞ –∫–æ—Ç–æ—Ä—ã–π —Ö–æ—á–µ—Ç –ø–æ–≤–µ—Å–∏—Ç—å—Å—è?\n- –ù–∞ —Å—Ç—É–ª—å—á–∏–∫ –≤—Å—Ç–∞–ª, —Ö–æ—Ç—å —Å—Ç–∏—à–æ–∫ —Ä–∞—Å—Å–∫–∞–∂–∏)",
        "- –ï—Å—Ç—å —Ö–æ—Ä–æ—à–∞—è –∏ –ø–ª–æ—Ö–∞—è –Ω–æ–≤–æ—Å—Ç—å, —Å –∫–∞–∫–æ–π –Ω–∞—á–∞—Ç—å?\n- –ù—É –¥–∞–≤–∞–π —Å —Ö–æ—Ä–æ—à–µ–π\n- –î–µ–¥ —Ö—Ä–∞–ø–µ—Ç—å –ø–µ—Ä–µ—Å—Ç–∞–ª...",
        "–°–∏–¥—è—Ç –∫–∞–∫ —Ç–æ 2 —à–∏–∑–æ—Ñ—Ä–µ–Ω–∏–∫–∞ –Ω–∞ —Ä–µ–ª—å—Å–∞—Ö, –∞ –∫ –Ω–∏–º 5-—ã–π –ø–æ–¥—Å–∞–∂–∏–≤–∞–µ—Ç—Å—è", 
        "–¢–æ–ª—å–∫–æ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –¥–∏–¥–∂–µ–π –º–æ–∂–µ—Ç –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –≥–ª–∞–¥–∏—Ç—å –¥–≤—É—Ö —Å–æ–±–∞–∫",
        "–ì–∏—Ç–ª–µ—Ä –∑–∞—Å—Ç—Ä–µ–ª–∏–ª—Å—è...\n –£–≤–∏–¥–µ–≤ —Å—á–µ—Ç—á–∏–∫ –∑–∞ –≥–∞–∑", 
        "–ù–µ–¥–∞–≤–Ω–æ –≤–∏–¥–µ–ª —Å–∞–º—É—é –≤–µ–∂–ª–∏–≤—É—é –¥—Ä–∞–∫—É. 4 –ø–∞—Ü–∞–Ω–∞ –æ–¥–Ω–æ–≥–æ –ø–∏–Ω–∞–ª–∏. –û–¥–∏–Ω —ç—Ç–æ—Ç —á–∏—Ö–∞–µ—Ç –∏ –≤—Å–µ —Ç–∞–∫–∏–µ\n- –ë—É–¥—å –∑–¥–æ—Ä–æ–≤",
        "–ß—Ç–æ –∫—Ä–∞—Å–Ω–æ–µ –∏ –≤—Ä–µ–¥–Ω–æ –¥–ª—è –∑—É–±–æ–≤?\n - –ö–∏—Ä–ø–∏—á",
        "–î–µ–≤–∏–∑ —Ö–æ—Ä–æ—à–µ–≥–æ —Å–Ω–∞–π–ø–µ—Ä–∞:\n- –í –æ–¥–Ω–æ —É—Ö–æ –≤–ª–µ—Ç–µ–ª–æ, –∏–∑ –¥—Ä—É–≥–æ–≥–æ –≤—ã–ª–µ—Ç–µ–ª–æ", 
        "–ö—É–¥–∞ –µ–¥–µ—Ç –≥–µ–π-–∫–æ–≤–±–æ–π?\n –ù–∞ Dick–∏–π –∑–∞–ø–∞–¥",
        "–ò–¥–µ—Ç –∫–∞–∫ —Ç–æ –≤–µ—Å–Ω–æ–π –®—Ç–∏—Ä–ª–µ—Ü –ø–æ —É–ª–∏—Ü–µ –∏ –≤–∏–¥–∏—Ç –º—É–∂–∏–∫–∞ –≤ —Ñ—É—Ñ–∞–π–∫–µ –∏ –Ω–∞ –ª—ã–∂–∞—Ö\n –§—É—Ñ–ª—ã–∂–Ω–∏–∫, –ø–æ–¥—É–º–∞–ª –®—Ç–∏—Ä–ª–µ—Ü",
        "–í—ã—à–ª–∏ –∫–∞–∫ —Ç–æ –∏–∑ –±–∞—Ä–∞ –ø–æ–¥—ã–ø–∏–≤—à–∏–µ –ú—é–ª–ª–µ—Ä –∏ –®—Ç–∏—Ä–ª–µ—Ü.\n –ú—é–ª–ª–µ—Ä:\n - –ü–æ–π–¥–µ–º –º–æ–∂–µ—Ç –¥–µ–≤—á–µ–Ω–æ–∫ —Å–Ω–∏–º–µ–º?)\n–®—Ç–∏—Ä–ª–µ—Ü:\n- –î–∞ –Ω–µ, –ø—É—Å—Ç—å –µ—â–µ –Ω–µ–º–Ω–æ–≥–æ –ø–æ–≤–∏—Å—è—Ç",
        "‚Äî –Ø –±–æ—é—Å—å –ø—Ä—ã–≥–∞—Ç—å ‚Äî –≤–¥—Ä—É–≥ –ø–∞—Ä–∞—à—é—Ç –Ω–µ —Ä–∞—Å–∫—Ä–æ–µ—Ç—Å—è?\n‚Äî –ï—â–µ –Ω–∏–∫—Ç–æ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –∂–∞–ª–æ–≤–∞–ª—Å—è, —á—Ç–æ —É –Ω–µ–≥–æ –Ω–µ —Ä–∞—Å–∫—Ä—ã–ª—Å—è –ø–∞—Ä–∞—à—é—Ç.",
        "‚Äî –ë—É–¥–µ—à—å –≤—ã—Ö–æ–¥–∏—Ç—å ‚Äî —Ç—Ä—É–ø –≤—ã–Ω–µ—Å–∏!\n ‚Äî –ú–æ–∂–µ—Ç –±—ã—Ç—å, –º—É—Å–æ—Ä?\n‚Äî –ú–æ–∂–µ—Ç ‚Äî –º—É—Å–æ—Ä, –º–æ–∂–µ—Ç ‚Äî —Å–∞–Ω—Ç–µ—Ö–Ω–∏–∫, –±–æ–≥ –µ–≥–æ –∑–Ω–∞–µ—Ç‚Ä¶",
        "‚Äî –ú–æ—è –¥–µ–≤—É—à–∫–∞ –ø–æ—Ä–≤–∞–ª–∞ —Å–æ –º–Ω–æ–π, –∏ —è –∑–∞–±—Ä–∞–ª –µ–µ –∫—Ä–µ—Å–ª–æ-–∫–∞—Ç–∞–ª–∫—É. –£–≥–∞–¥–∞–π—Ç–µ, –∫—Ç–æ –ø—Ä–∏–ø–æ–ª–∑ –∫–æ –º–Ω–µ –Ω–∞ –∫–æ–ª–µ–Ω—è—Ö?",
        "–ï—Å–ª–∏ –±—ã –º–æ—è –±–∞–±—É—à–∫–∞ –∑–Ω–∞–ª–∞, —Å–∫–æ–ª—å–∫–æ –¥–µ–Ω–µ–≥ —è —Å—ç–∫–æ–Ω–æ–º–∏–ª –Ω–∞ –µ–µ –ø–æ—Ö–æ—Ä–æ–Ω–∞—Ö, —Ç–æ –æ–Ω–∞ –±—ã –ø–µ—Ä–µ–≤–µ—Ä–Ω—É–ª–∞—Å—å –≤ –∫–∞–Ω–∞–≤–µ.",
        "‚Äî –ö–æ—Ç —É–º–µ—Ä –≥–æ–¥ –Ω–∞–∑–∞–¥. –¢–∞–∫ —è –¥–æ —Å–∏—Ö –ø–æ—Ä –∑–∞–º–µ–¥–ª—è—é —à–∞–≥ –≤ –∫–æ—Ä–∏–¥–æ—Ä–µ, —Ç–∞–º, –≥–¥–µ –æ–Ω –ª—é–±–∏–ª –ª–µ–∂–∞—Ç—å, —á—Ç–æ–±—ã –Ω–µ —Å–ø–æ—Ç–∫–Ω—É—Ç—å—Å—è –æ–± –Ω–µ–≥–æ –≤ —Ç–µ–º–Ω–æ—Ç–µ.\n‚Äî –ú–æ–∂–µ—Ç, –ø–æ—Ä–∞ –µ–≥–æ –ø–æ—Ö–æ—Ä–æ–Ω–∏—Ç—å?",
        "–û–¥–Ω–æ—Ä—É–∫–∏–π —á–µ–ª–æ–≤–µ–∫ –∑–∞–ø–ª–∞–∫–∞–ª, —É–≤–∏–¥–µ–≤ –º–∞–≥–∞–∑–∏–Ω ¬´—Å–µ–∫–æ–Ω–¥-—Ö–µ–Ω–¥¬ª.",
        "‚Äî –ù–µ, —è —á–µ—Ä–µ–∑ –±–∞–ª–∫–æ–Ω –Ω–µ –ø–æ–ª–µ–∑—É, —É –º–µ–Ω—è –∫–ª–∞—É—Å—Ç—Ä–æ—Ñ–æ–±–∏—è!\n‚Äî –ö–ª–∞—É—Å—Ç—Ä–æ—Ñ–æ–±–∏—è ‚Äî —ç—Ç–æ –±–æ—è–∑–Ω—å –∑–∞–º–∫–Ω—É—Ç–æ–≥–æ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞. –ì–¥–µ —Ç—ã —Ç—É—Ç –≤–∏–¥–∏—à—å –∑–∞–º–∫–Ω—É—Ç–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ?\n - –í –≥—Ä–æ–±—É! –í –≥—Ä–æ–±—É –∑–∞–º–∫–Ω—É—Ç–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ!",
        "‚Äî –ê —É –≥–µ–π–º–µ—Ä–æ–≤ –±—ã–≤–∞—é—Ç –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–µ –∑–∞–±–æ–ª–µ–≤–∞–Ω–∏—è?\n‚Äî –ê–≥–∞ ‚Äî –ì–ï–ô–º–æ—Ä—Ä–æ–π ‚Ä¶ ",
        "‚Äî –ö–∞–∫ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è —á–µ–ª–æ–≤–µ–∫, —É –∫–æ—Ç–æ—Ä–æ–≥–æ –Ω–µ—Ç –ª–µ–≤–æ–π —Ä—É–∫–∏, –ª–µ–≤–æ–π –Ω–æ–≥–∏, –ª–µ–≤–æ–≥–æ –≥–ª–∞–∑–∞ –∏ –ª–µ–≤–æ–≥–æ —É—Ö–∞?\n ‚Äî All right.",
        "–ö—É—Ä–∏—Ç—å –ø–æ 3 –ø–∞—á–∫–∏ –≤ –¥–µ–Ω—å ‚Äî —ç—Ç–æ —Ç—Ä—É–¥–Ω—ã–π –ø—É—Ç—å, –Ω–æ —Ä–∞–∑–≤–µ –Ω–∞–º –Ω—É–∂–Ω—ã –ª–µ–≥–∫–∏–µ?"
        ]

photo = ["photo-194273774_457239039"]

mems = ["photo-194273774_457239040", "photo-194273774_457239041",
        "photo-194273774_457239042", "photo-194273774_457239043",
        "photo-194273774_457239044", "photo-194273774_457239045",
        "photo-194273774_457239046", "photo-194273774_457239054",
        "photo-194273774_457239047", "photo-200012145_457250481",
        "photo-200012145_457250470", "photo-169204537_457293431",
        "photo-168343603_457279642", "photo-169204537_457293435",
        "photo-169204537_457293429", "photo-547924735_457242110",
        "photo-547924735_457240965", "photo-547924735_457240951",
        "photo-194273774_457239061", "photo-190803277_457307249",
        "photo547924735_457242325", "photo547924735_457242328",
        "photo-194273774_457239084", "photo-194273774_457239085",
        "photo-190340814_457281225", "photo-190340814_457281224",
        "photo-169204537_457293896", "photo-171776202_457250411",
        "photo618650795_457240359", "photo618650795_457240358",
        "photo618650795_457240357", "photo618650795_457240356",
        "photo618650795_457240355", "photo618650795_457240353",
        "photo-179997490_457359393", "photo-187177136_457312339",
        "photo-190803277_457308592", "photo-12353330_459056136"
        ]

vk_session = vk_api.VkApi(token=TOKEN)
longpoll = VkLongPoll(vk_session)
Vk = vk_session.get_api()

def create_keyboard():
    keyboard = VkKeyboard(inline=False)
    keyboard.add_button('–ú–µ–º', VkKeyboardColor.POSITIVE)
    keyboard.add_button('–í–∏–¥–µ–æ', VkKeyboardColor.POSITIVE)
    keyboard.add_button('–®—É—Ç–∫–∞', VkKeyboardColor.POSITIVE)
    #keyboard.add_button('–ú—É–∑—ã–∫–∞', VkKeyboardColor.POSITIVE)  
    return keyboard.get_keyboard()

def sender(id, text):
    global Vk
    Vk.messages.send(
        random_id=get_random_id(),
        user_id=id,
        message=text,
        keyboard=create_keyboard())

def sender_photo(id, text, attachment):
    Vk.messages.send(
        random_id=get_random_id(),
        user_id=id,
        message=text,
        attachment=photo,
        keyboard=create_keyboard())

def sender_photo_1(id, text):
    Vk.messages.send(
        random_id=get_random_id(),
        user_id=id,
        message=text,
        attachment=random.choice(mems),
        keyboard=create_keyboard())

def sender_video(id, text):
    Vk.messages.send(
        random_id=get_random_id(),
        user_id=id,
        message=text,
        attachment=random.choice(video),
        keyboard=create_keyboard())

def sender_joke(id, text):
    Vk.messages.send(
        random_id = get_random_id(),
        user_id = id,
        text = random.choice(joke),
        message =text,
        keyboard = create_keyboard())

#def sender_music(id, text):
#    Vk.messages.send(
#        random_id = get_random_id(),
#         user_id = id,
#        message = text,
#        attachment = music,
#        keyboard = create_keyboard())
    
def work_bot():
    for event in longpoll.listen():
        if event.type == VkEventType.MESSAGE_NEW:
            if event.to_me:
                msg = event.text.lower()
                id = event.user_id
                    #–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è –æ—Ç–≤–µ—Ç–∞
                if msg == '–Ω–∞—á–∞—Ç—å':
                    sender(id, '–ø—Ä–∏–≤–µ—Ç, —è –ú–µ–º –ë–æ—Ç) –ß—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –ø–∏–∫—á—É –Ω–∞–ø–∏—à–∏ \"–º–µ–º\". –ß—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –≤–∏–¥–µ–æ –Ω–∞–ø–∏—à–∏ \"–≤–∏–¥–µ–æ\"') 
                elif msg == '–º–µ–º':
                    sender_photo_1(id,'–í–æ—Ç —Ç–≤–æ–π –º–µ–º)')
                elif msg == '–º–µ–º':
                    keyboard = VkKeyboard(inline = True)
                    keyboard.add_button("–ö–Ω–æ–ø–∫–∞") 
                    sender(id, "–ü—Ä–∏–≤–µ—Ç")
                elif msg == '–≤–∏–¥–µ–æ':
                    sender_video(id, 'video') 
                elif msg == '—à—É—Ç–∫–∞':
                    sender_joke(id, random.choice(joke))
                #elif msg == '–º—É–∑—ã–∫–∞':
                #    sender_music(id, ' ')
                else:
                    sender_photo(id, ' –Ø —Ç–µ–±—è –Ω–µ –ø–æ–Ω–∏–º–∞—éüòø' + photo)

if __name__ == '__main__':
    work_bot()  